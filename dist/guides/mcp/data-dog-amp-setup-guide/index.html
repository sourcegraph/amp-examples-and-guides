<!DOCTYPE html><html lang="en" data-astro-cid-37fxchfa> <head><meta charset="UTF-8"><meta name="description" content="Amp Examples and Guides"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><title>undefined - Guides</title><style>[data-astro-cid-37fxchfa]{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;line-height:1.6;color:#333;background-color:#fff}nav[data-astro-cid-37fxchfa]{background:#f8f9fa;border-bottom:1px solid #e9ecef;padding:1rem 0}.nav-container[data-astro-cid-37fxchfa]{max-width:1200px;margin:0 auto;padding:0 2rem;display:flex;justify-content:space-between;align-items:center}.logo[data-astro-cid-37fxchfa]{font-weight:600;font-size:1.2rem;color:#06c;text-decoration:none}.nav-links[data-astro-cid-37fxchfa]{display:flex;gap:2rem}.nav-links[data-astro-cid-37fxchfa] a[data-astro-cid-37fxchfa]{color:#333;text-decoration:none;font-weight:500}.nav-links[data-astro-cid-37fxchfa] a[data-astro-cid-37fxchfa]:hover{color:#06c}main[data-astro-cid-37fxchfa]{max-width:1200px;margin:0 auto;padding:2rem;min-height:calc(100vh - 160px)}footer[data-astro-cid-37fxchfa]{background:#f8f9fa;border-top:1px solid #e9ecef;padding:2rem 0;text-align:center;color:#666}footer[data-astro-cid-37fxchfa] a[data-astro-cid-37fxchfa]{color:#06c}
.guide-header[data-astro-cid-oolc5s6i]{margin-bottom:2rem;padding-bottom:2rem;border-bottom:1px solid #e9ecef}.breadcrumb[data-astro-cid-oolc5s6i]{color:#666;font-size:.9rem;margin-bottom:1rem}.breadcrumb[data-astro-cid-oolc5s6i] a[data-astro-cid-oolc5s6i]{color:#06c;text-decoration:none}.breadcrumb[data-astro-cid-oolc5s6i] a[data-astro-cid-oolc5s6i]:hover{text-decoration:underline}.guide-header[data-astro-cid-oolc5s6i] h1[data-astro-cid-oolc5s6i]{color:#333;font-size:2rem;margin-bottom:1rem}.description[data-astro-cid-oolc5s6i]{color:#666;font-size:1.1rem;line-height:1.6;margin-bottom:1.5rem}.metadata[data-astro-cid-oolc5s6i]{display:flex;gap:1rem;flex-wrap:wrap}.phase-badge[data-astro-cid-oolc5s6i]{display:inline-block;padding:.25rem .5rem;border-radius:3px;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.phase-plan[data-astro-cid-oolc5s6i]{background:#e3f2fd;color:#1565c0}.phase-build[data-astro-cid-oolc5s6i]{background:#f3e5f5;color:#7b1fa2}.phase-deploy[data-astro-cid-oolc5s6i]{background:#e8f5e8;color:#2e7d32}.phase-support[data-astro-cid-oolc5s6i]{background:#fff3e0;color:#f57c00}.category-badge[data-astro-cid-oolc5s6i]{background:#f5f5f5;color:#666;padding:.25rem .5rem;border-radius:3px;font-size:.75rem}.guide-content[data-astro-cid-oolc5s6i]{max-width:none;line-height:1.7}.guide-content[data-astro-cid-oolc5s6i] h2{color:#333;font-size:1.5rem;margin:2rem 0 1rem;padding-bottom:.5rem;border-bottom:1px solid #e9ecef}.guide-content[data-astro-cid-oolc5s6i] h3{color:#333;font-size:1.25rem;margin:1.5rem 0 .75rem}.guide-content[data-astro-cid-oolc5s6i] p{margin-bottom:1rem;color:#444}.guide-content[data-astro-cid-oolc5s6i] code{background:#f8f9fa;padding:.125rem .25rem;border-radius:3px;font-size:.875rem}.guide-content[data-astro-cid-oolc5s6i] pre{background:#f8f9fa;border:1px solid #e9ecef;border-radius:4px;padding:1rem;overflow-x:auto;margin:1rem 0}.guide-content[data-astro-cid-oolc5s6i] ul,.guide-content[data-astro-cid-oolc5s6i] ol{padding-left:2rem;margin-bottom:1rem}.guide-content[data-astro-cid-oolc5s6i] li{margin-bottom:.5rem}.guide-content[data-astro-cid-oolc5s6i] blockquote{border-left:4px solid #0066cc;margin:1rem 0;padding:.5rem 1rem;background:#f8f9fa;color:#666}.guide-content[data-astro-cid-oolc5s6i] table{width:100%;border-collapse:collapse;margin:1rem 0}.guide-content[data-astro-cid-oolc5s6i] th,.guide-content[data-astro-cid-oolc5s6i] td{border:1px solid #e9ecef;padding:.75rem;text-align:left}.guide-content[data-astro-cid-oolc5s6i] th{background:#f8f9fa;font-weight:600}
</style></head> <body data-astro-cid-37fxchfa> <nav data-astro-cid-37fxchfa> <div class="nav-container" data-astro-cid-37fxchfa> <a href="/" class="logo" data-astro-cid-37fxchfa>Amp Examples & Guides</a> <div class="nav-links" data-astro-cid-37fxchfa> <a href="/guides" data-astro-cid-37fxchfa>Guides</a> <a href="/examples" data-astro-cid-37fxchfa>Examples</a> </div> </div> </nav> <main data-astro-cid-37fxchfa>  <div class="guide-header" data-astro-cid-oolc5s6i> <nav class="breadcrumb" data-astro-cid-oolc5s6i> <a href="/" data-astro-cid-oolc5s6i>Home</a> / <a href="/guides" data-astro-cid-oolc5s6i>Guides</a> /  </nav> <h1 data-astro-cid-oolc5s6i></h1> <p class="description" data-astro-cid-oolc5s6i></p> <div class="metadata" data-astro-cid-oolc5s6i>   </div> </div> <div class="guide-content" data-astro-cid-oolc5s6i> <h1 id="datadog-mcp-setup-guide">Datadog MCP Setup Guide</h1>
<p>This guide shows you how to set up the Datadog MCP (Model Context Protocol) server with Amp for monitoring and observability. The Datadog MCP server provides access to APM, metrics, logs, and other Datadog services.</p>
<h2 id="use-case-comprehensive-apm-issue-investigation">Use Case: Comprehensive APM Issue Investigation</h2>
<p>Once configured, you can leverage Amp with Datadog MCP to perform deep investigations of production issues. Amp can automatically fetch APM data, analyze patterns with the Oracle, and investigate your local codebase to provide comprehensive root cause analysis and resolution recommendations.</p>
<h3 id="amp--datadog-sequence-diagram">Amp / Datadog sequence diagram</h3>
<p>You can have Amp call other tools such as git or even put it’s findings in Jira or confluence if you want to automate this further.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="mermaid"><code><span class="line"><span style="color:#E1E4E8">sequenceDiagram</span></span>
<span class="line"><span style="color:#E1E4E8">    participant User</span></span>
<span class="line"><span style="color:#E1E4E8">    participant Amp</span></span>
<span class="line"><span style="color:#E1E4E8">    participant DataDog</span></span>
<span class="line"><span style="color:#E1E4E8">    participant Amp Oracle</span></span>
<span class="line"><span style="color:#E1E4E8">    participant GitRepo as Git Repo/Local</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">    User->>Amp: Submit Investigation Prompt</span></span>
<span class="line"><span style="color:#E1E4E8">    Amp->>DataDog: Fetch APM Issues via MCP</span></span>
<span class="line"><span style="color:#E1E4E8">    DataDog-->>Amp: Return Initial Data</span></span>
<span class="line"><span style="color:#E1E4E8">    Amp->>DataDog: Get Detailed Issue Data</span></span>
<span class="line"><span style="color:#E1E4E8">    DataDog-->>Amp: Return Stack Traces &#x26; Metrics</span></span>
<span class="line"><span style="color:#E1E4E8">    Amp->>Amp Oracle: Analyze Patterns &#x26; Impact</span></span>
<span class="line"><span style="color:#E1E4E8">    Amp Oracle-->>Amp: Return Assessment &#x26; Insights</span></span>
<span class="line"><span style="color:#E1E4E8">    Amp->>GitRepo: Pull Repository &#x26; Git History    </span></span>
<span class="line"><span style="color:#E1E4E8">    GitRepo-->>Amp: Return Code &#x26; Commit Data &#x26; RCA</span></span>
<span class="line"><span style="color:#E1E4E8">    Amp->>Amp: Investigate APM issues in Codebase &#x26; Git history</span></span>
<span class="line"><span style="color:#E1E4E8">    Amp->>User: Deliver Markdown Report with findings</span></span></code></pre>
<h3 id="example-investigation-prompt">Example Investigation Prompt</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="text"><code><span class="line"><span>Please fetch the latest 5 APM issues from DataDog and investigate each one thoroughly. For each issue:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Gather details using available DataDog MCP tools</span></span>
<span class="line"><span>Analyze root causes and impact and ask the oracle to review your findings</span></span>
<span class="line"><span>Provide actionable recommendations for resolution</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Output: Create a markdown report with your findings, including:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Issue summaries</span></span>
<span class="line"><span>Investigation details</span></span>
<span class="line"><span>Root cause analysis</span></span>
<span class="line"><span>Recommended fixes</span></span>
<span class="line"><span>Priority/severity assessment</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Use all relevant DataDog MCP tools to gather comprehensive information for each issue.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>For each of the project issues ask me to provide the git location for the repo locally, so you can explore the git history and the codebase to investigate the codebase deeply and find resolution as well.</span></span></code></pre>
<blockquote>
<p><strong>⚠️ Active Development Notice</strong><br>
The Datadog MCP server is currently in active development and is subject to change. As of August 2025, you need to request your Datadog organization to be whitelisted to use the MCP server. Contact your Datadog representative or support to request access.</p>
</blockquote>
<h2 id="prerequisites">Prerequisites</h2>
<ul>
<li>VS Code with Amp extension installed OR Amp CLI installed</li>
<li>Datadog account with appropriate permissions</li>
<li>macOS, Linux, or Windows with WSL support</li>
<li>Organization whitelisting with Datadog (required as of Aug 2025)</li>
</ul>
<h2 id="setup-steps">Setup Steps</h2>
<h3 id="1-install-the-datadog-mcp-cli">1. Install the Datadog MCP CLI</h3>
<p>For macOS and Linux, install the Datadog MCP CLI using the installation script:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">curl</span><span style="color:#79B8FF"> -sSL</span><span style="color:#9ECBFF"> https://coterm.datadoghq.com/mcp-cli/install.sh</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> bash</span></span></code></pre>
<p>This will install the CLI to <code>~/.local/bin/datadog_mcp_cli</code>. The Windows version can be downloaded from the <a href="https://github.com/DataDog/datadog-mcp/releases">official Datadog releases page</a>.</p>
<h3 id="2-authenticate-with-datadog">2. Authenticate with Datadog</h3>
<p>Run the authentication flow manually to set up OAuth:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">datadog_mcp_cli</span><span style="color:#9ECBFF"> login</span></span></code></pre>
<p>The MCP server will automatically start the OAuth flow when started by a client, but running it manually allows you to select your Datadog site and avoids MCP client timeouts during initial setup.</p>
<h3 id="3-configure-amp">3. Configure Amp</h3>
<h4 id="option-a-using-amp-cli-configuration">Option A: Using Amp CLI Configuration</h4>
<p>Add the following configuration to your Amp settings file:</p>
<ul>
<li><strong>Windows</strong>: <code>%APPDATA%\amp\settings.json</code></li>
<li><strong>macOS</strong>: <code>~/.config/amp/settings.json</code></li>
<li><strong>Linux</strong>: <code>~/.config/amp/settings.json</code></li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="json"><code><span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#79B8FF">  "amp.mcpServers"</span><span style="color:#E1E4E8">: {</span></span>
<span class="line"><span style="color:#79B8FF">    "datadog"</span><span style="color:#E1E4E8">: {</span></span>
<span class="line"><span style="color:#79B8FF">      "command"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"/Users/yourname/.local/bin/datadog_mcp_cli"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">      "env"</span><span style="color:#E1E4E8">: {},</span></span>
<span class="line"><span style="color:#79B8FF">      "_target"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"global"</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<p>Replace <code>/Users/yourname/</code> with your actual home directory path.</p>
<h4 id="option-b-using-vs-code-extension">Option B: Using VS Code Extension</h4>
<ol>
<li>Open VS Code and go to <strong>Settings</strong> → <strong>Extensions</strong> → <strong>Amp</strong> → <strong>MCP Servers</strong></li>
<li>Click <strong>Add MCP Server</strong></li>
<li>Configure the server:
<ul>
<li><strong>Server Name</strong>: <code>datadog</code></li>
<li><strong>Command or URL</strong>: <code>/Users/yourname/.local/bin/datadog_mcp_cli</code></li>
<li><strong>Arguments</strong>: (leave empty)</li>
<li><strong>Environment Variables</strong>: (leave empty unless required)</li>
</ul>
</li>
</ol>
<p>Replace <code>/Users/yourname/</code> with your actual home directory path.</p>
<h3 id="4-verify-the-setup">4. Verify the Setup</h3>
<p>Restart VS Code or your Amp CLI session after making the configuration changes. The Datadog MCP server should now be available.</p>
<h2 id="testing-the-integration">Testing the Integration</h2>
<p>To verify the Datadog MCP integration works, ask Amp questions like:</p>
<ul>
<li>“What are the most recent APM issues?”</li>
<li>“Show me the current error rate for my services”</li>
<li>“What are the latest log entries with errors?”</li>
<li>“Get metrics for CPU usage in the last hour”</li>
<li>“Show me active monitors that are alerting”</li>
</ul>
<p>Amp will automatically use the Datadog MCP server to fetch this information from your Datadog account.</p>
<h2 id="available-capabilities">Available Capabilities</h2>
<p>The Datadog MCP server provides access to:</p>
<ul>
<li><strong>APM</strong>: Application performance monitoring data, traces, and service metrics</li>
<li><strong>Logs</strong>: Search and retrieve log data with filters</li>
<li><strong>Metrics</strong>: Query time-series metrics data</li>
<li><strong>Monitors</strong>: View and manage monitor status and alerts</li>
<li><strong>Events</strong>: Access Datadog events and notifications</li>
<li><strong>Dashboards</strong>: Retrieve dashboard information</li>
<li><strong>Incidents</strong>: View incident management data</li>
</ul>
<h2 id="best-practices">Best Practices</h2>
<ul>
<li>Be specific in your queries to get the most relevant data</li>
<li>Use time ranges when requesting historical data (e.g., “in the last hour”, “today”)</li>
<li>Specify service names or environments when available to narrow results</li>
<li>The MCP server respects your Datadog permissions - you’ll only see data you have access to</li>
</ul>
<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="authentication-issues">Authentication Issues</h3>
<ul>
<li>If you encounter authentication problems, run <code>datadog_mcp_cli login</code> again to refresh your credentials</li>
<li>Verify your organization is whitelisted for MCP access</li>
</ul>
<h3 id="connection-problems">Connection Problems</h3>
<ul>
<li>Ensure the path to <code>datadog_mcp_cli</code> is correct in your configuration</li>
<li>Check that the binary has execute permissions: <code>chmod +x ~/.local/bin/datadog_mcp_cli</code></li>
<li>Restart VS Code or Amp CLI after configuration changes</li>
</ul>
<h3 id="data-access-issues">Data Access Issues</h3>
<ul>
<li>Verify you have the necessary permissions in your Datadog account</li>
<li>Check that your organization has the required Datadog features enabled (APM, Logs, etc.)</li>
<li>Contact your Datadog administrator if you’re missing access to certain data sources</li>
</ul>
<p>For additional help, consult the <a href="https://docs.datadoghq.com/mcp/">Datadog MCP documentation</a> or contact Datadog support.</p> </div>  </main> <footer data-astro-cid-37fxchfa> <p data-astro-cid-37fxchfa>© 2024 Sourcegraph. Supplemental to the <a href="https://ampcode.com/manual" data-astro-cid-37fxchfa>Amp Manual</a>.</p> </footer> </body></html> 