<!DOCTYPE html><html lang="en" data-astro-cid-37fxchfa> <head><meta charset="UTF-8"><meta name="description" content="Amp Examples and Guides"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><title>undefined - Guides</title><style>[data-astro-cid-37fxchfa]{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;line-height:1.6;color:#333;background-color:#fff}nav[data-astro-cid-37fxchfa]{background:#f8f9fa;border-bottom:1px solid #e9ecef;padding:1rem 0}.nav-container[data-astro-cid-37fxchfa]{max-width:1200px;margin:0 auto;padding:0 2rem;display:flex;justify-content:space-between;align-items:center}.logo[data-astro-cid-37fxchfa]{font-weight:600;font-size:1.2rem;color:#06c;text-decoration:none}.nav-links[data-astro-cid-37fxchfa]{display:flex;gap:2rem}.nav-links[data-astro-cid-37fxchfa] a[data-astro-cid-37fxchfa]{color:#333;text-decoration:none;font-weight:500}.nav-links[data-astro-cid-37fxchfa] a[data-astro-cid-37fxchfa]:hover{color:#06c}main[data-astro-cid-37fxchfa]{max-width:1200px;margin:0 auto;padding:2rem;min-height:calc(100vh - 160px)}footer[data-astro-cid-37fxchfa]{background:#f8f9fa;border-top:1px solid #e9ecef;padding:2rem 0;text-align:center;color:#666}footer[data-astro-cid-37fxchfa] a[data-astro-cid-37fxchfa]{color:#06c}
.guide-header[data-astro-cid-oolc5s6i]{margin-bottom:2rem;padding-bottom:2rem;border-bottom:1px solid #e9ecef}.breadcrumb[data-astro-cid-oolc5s6i]{color:#666;font-size:.9rem;margin-bottom:1rem}.breadcrumb[data-astro-cid-oolc5s6i] a[data-astro-cid-oolc5s6i]{color:#06c;text-decoration:none}.breadcrumb[data-astro-cid-oolc5s6i] a[data-astro-cid-oolc5s6i]:hover{text-decoration:underline}.guide-header[data-astro-cid-oolc5s6i] h1[data-astro-cid-oolc5s6i]{color:#333;font-size:2rem;margin-bottom:1rem}.description[data-astro-cid-oolc5s6i]{color:#666;font-size:1.1rem;line-height:1.6;margin-bottom:1.5rem}.metadata[data-astro-cid-oolc5s6i]{display:flex;gap:1rem;flex-wrap:wrap}.phase-badge[data-astro-cid-oolc5s6i]{display:inline-block;padding:.25rem .5rem;border-radius:3px;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.phase-plan[data-astro-cid-oolc5s6i]{background:#e3f2fd;color:#1565c0}.phase-build[data-astro-cid-oolc5s6i]{background:#f3e5f5;color:#7b1fa2}.phase-deploy[data-astro-cid-oolc5s6i]{background:#e8f5e8;color:#2e7d32}.phase-support[data-astro-cid-oolc5s6i]{background:#fff3e0;color:#f57c00}.category-badge[data-astro-cid-oolc5s6i]{background:#f5f5f5;color:#666;padding:.25rem .5rem;border-radius:3px;font-size:.75rem}.guide-content[data-astro-cid-oolc5s6i]{max-width:none;line-height:1.7}.guide-content[data-astro-cid-oolc5s6i] h2{color:#333;font-size:1.5rem;margin:2rem 0 1rem;padding-bottom:.5rem;border-bottom:1px solid #e9ecef}.guide-content[data-astro-cid-oolc5s6i] h3{color:#333;font-size:1.25rem;margin:1.5rem 0 .75rem}.guide-content[data-astro-cid-oolc5s6i] p{margin-bottom:1rem;color:#444}.guide-content[data-astro-cid-oolc5s6i] code{background:#f8f9fa;padding:.125rem .25rem;border-radius:3px;font-size:.875rem}.guide-content[data-astro-cid-oolc5s6i] pre{background:#f8f9fa;border:1px solid #e9ecef;border-radius:4px;padding:1rem;overflow-x:auto;margin:1rem 0}.guide-content[data-astro-cid-oolc5s6i] ul,.guide-content[data-astro-cid-oolc5s6i] ol{padding-left:2rem;margin-bottom:1rem}.guide-content[data-astro-cid-oolc5s6i] li{margin-bottom:.5rem}.guide-content[data-astro-cid-oolc5s6i] blockquote{border-left:4px solid #0066cc;margin:1rem 0;padding:.5rem 1rem;background:#f8f9fa;color:#666}.guide-content[data-astro-cid-oolc5s6i] table{width:100%;border-collapse:collapse;margin:1rem 0}.guide-content[data-astro-cid-oolc5s6i] th,.guide-content[data-astro-cid-oolc5s6i] td{border:1px solid #e9ecef;padding:.75rem;text-align:left}.guide-content[data-astro-cid-oolc5s6i] th{background:#f8f9fa;font-weight:600}
</style></head> <body data-astro-cid-37fxchfa> <nav data-astro-cid-37fxchfa> <div class="nav-container" data-astro-cid-37fxchfa> <a href="/" class="logo" data-astro-cid-37fxchfa>Amp Examples & Guides</a> <div class="nav-links" data-astro-cid-37fxchfa> <a href="/guides" data-astro-cid-37fxchfa>Guides</a> <a href="/examples" data-astro-cid-37fxchfa>Examples</a> </div> </div> </nav> <main data-astro-cid-37fxchfa>  <div class="guide-header" data-astro-cid-oolc5s6i> <nav class="breadcrumb" data-astro-cid-oolc5s6i> <a href="/" data-astro-cid-oolc5s6i>Home</a> / <a href="/guides" data-astro-cid-oolc5s6i>Guides</a> /  </nav> <h1 data-astro-cid-oolc5s6i></h1> <p class="description" data-astro-cid-oolc5s6i></p> <div class="metadata" data-astro-cid-oolc5s6i>   </div> </div> <div class="guide-content" data-astro-cid-oolc5s6i> <h1 id="deploy-phase---streamlined-deployment--automation">DEPLOY Phase - Streamlined Deployment &#x26; Automation</h1>
<p>Streamline your deployment pipeline with automated workflows and quality gates.</p>
<h2 id="overview">Overview</h2>
<p>The DEPLOY phase focuses on getting your code from development to production safely and efficiently. This includes git workflows, automated testing, pull request generation, and deployment automation.</p>
<h2 id="workflows">Workflows</h2>
<h3 id="git-workflow-enhancement">Git Workflow Enhancement</h3>
<p>Optimize your version control processes with intelligent commit messages and branch management.</p>
<p><strong>Example Workflow:</strong></p>
<blockquote>
<p>User: “Analyze our current git workflow and suggest improvements for better collaboration and release management”</p>
</blockquote>
<p><strong>Generic Prompts:</strong></p>
<ul>
<li>“Generate a conventional commit message based on these changes”</li>
<li>“Create a branching strategy that supports both hotfixes and feature development”</li>
<li>“Analyze merge conflicts and suggest workflow improvements”</li>
</ul>
<h3 id="build-and-test-automation">Build and Test Automation</h3>
<p>Automate your CI/CD pipeline with intelligent error handling and optimization.</p>
<p><strong>Example Workflow:</strong></p>
<blockquote>
<p>User: “Set up a CI/CD pipeline that runs tests, builds the application, and deploys to staging automatically on merge to develop branch”</p>
</blockquote>
<p><strong>Generic Prompts:</strong></p>
<ul>
<li>“Fix build errors and optimize build performance”</li>
<li>“Create a test automation strategy that catches regressions early”</li>
<li>“Set up deployment health checks and rollback procedures”</li>
</ul>
<h3 id="automated-pull-request-generation">Automated Pull Request Generation</h3>
<p>Convert requirements directly into review-ready pull requests.</p>
<p><strong>Example Workflow:</strong></p>
<blockquote>
<p>User: “Create a GitLab pull request that adds a 200ms debounce to the search input field. The debounce should reduce excessive calls while typing, improving performance and UX. Include a clear title and a concise description explaining why this change is needed and how it works.”</p>
</blockquote>
<p><strong>Generic Prompts:</strong></p>
<ul>
<li>“Implement lazy loading for images and create a PR with performance benchmarks”</li>
<li>“Add dark mode support and generate PR with design system documentation”</li>
<li>“Create pagination for the user table and prepare PR with API changes”</li>
</ul>
<h3 id="end-to-end-development-workflows">End-to-End Development Workflows</h3>
<p>Transform high-level requirements into production-ready code with iterative refinement.</p>
<p><strong>Example Workflow:</strong></p>
<blockquote>
<p>User: “Build a responsive User Profile component using [React/Tailwind CSS/etc.], which displays the user’s avatar, full name, and email address. Include an ‘Edit’ button that allows the user to update their information. The layout should be clean and accessible, with clear separation of elements. Add placeholder data for demonstration and ensure the component is reusable.”</p>
</blockquote>
<p><strong>Generic Prompts:</strong></p>
<ul>
<li>“Create a checkout flow component with payment integration, then test it with mock data”</li>
<li>“Build a dashboard widget for analytics data, include responsive design and run tests”</li>
<li>“Implement OAuth login flow, handle edge cases, and prepare for deployment”</li>
</ul>
<h3 id="database-operations">Database Operations</h3>
<p>Manage database schemas, migrations, and data operations safely.</p>
<p><strong>Example Workflow:</strong></p>
<blockquote>
<p>User: “Create a database migration that adds a new ‘subscription_status’ column to the users table, with appropriate indexes and data backfill strategy”</p>
</blockquote>
<p><strong>Generic Prompts:</strong></p>
<ul>
<li>“Generate migration scripts for schema changes with rollback procedures”</li>
<li>“Optimize database queries and add proper indexing”</li>
<li>“Create data seeding scripts for different environments”</li>
</ul>
<h2 id="cli-examples-for-deploy-phase">CLI Examples for DEPLOY Phase</h2>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># Smart commit messages with context analysis</span></span>
<span class="line"><span style="color:#B392F0">git</span><span style="color:#9ECBFF"> diff</span><span style="color:#79B8FF"> --staged</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Generate a conventional commit message based on these changes"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Strategic git workflow planning with Oracle</span></span>
<span class="line"><span style="color:#B392F0">git</span><span style="color:#9ECBFF"> log</span><span style="color:#79B8FF"> --graph</span><span style="color:#79B8FF"> --oneline</span><span style="color:#79B8FF"> -20</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Use Amp Oracle to analyze this git history and create a comprehensive branching strategy optimization plan"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Complex release preparation with multi-stage pipeline</span></span>
<span class="line"><span style="color:#B392F0">git</span><span style="color:#9ECBFF"> diff</span><span style="color:#9ECBFF"> HEAD~10..HEAD</span><span style="color:#79B8FF"> --name-only</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Analyze changed files for this release"</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Spawn subagents to: validate changelog completeness, check for breaking changes, and generate release notes"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Multi-environment validation pipeline</span></span>
<span class="line"><span style="color:#F97583">for</span><span style="color:#E1E4E8"> env </span><span style="color:#F97583">in</span><span style="color:#9ECBFF"> dev</span><span style="color:#9ECBFF"> staging</span><span style="color:#9ECBFF"> prod</span><span style="color:#E1E4E8">; </span><span style="color:#F97583">do</span><span style="color:#79B8FF"> echo</span><span style="color:#9ECBFF"> "Environment: </span><span style="color:#E1E4E8">$env</span><span style="color:#9ECBFF">"</span><span style="color:#E1E4E8">; </span><span style="color:#B392F0">cat</span><span style="color:#9ECBFF"> "config/</span><span style="color:#E1E4E8">$env</span><span style="color:#9ECBFF">.json"</span><span style="color:#E1E4E8">; </span><span style="color:#F97583">done</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Analyze environment configurations, spawn subagents to validate: 1) security settings consistency, 2) performance parameter optimization, 3) feature flag alignment"</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Generate environment-specific deployment recommendations"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Schema analysis with intelligent recommendations</span></span>
<span class="line"><span style="color:#B392F0">amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Using MCP database tools and staging environment settings from AGENT.md, connect to the database and analyze the user table schema for potential optimizations"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Complex data migration planning with risk assessment</span></span>
<span class="line"><span style="color:#B392F0">pg_dump</span><span style="color:#79B8FF"> --schema-only</span><span style="color:#9ECBFF"> database_name</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Analyze this schema and spawn subagents to: 1) plan data migration strategy, 2) identify potential data integrity issues, 3) estimate downtime requirements"</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Create detailed migration runbook with rollback procedures"</span></span></code></pre>
<h2 id="deployment-best-practices">Deployment Best Practices</h2>
<h3 id="pre-deployment-checklist">Pre-Deployment Checklist</h3>
<ul>
<li><strong>Code Quality</strong>: All tests passing, linting rules satisfied</li>
<li><strong>Security</strong>: No secrets in code, security scans completed</li>
<li><strong>Performance</strong>: Load testing completed, monitoring in place</li>
<li><strong>Documentation</strong>: Deployment instructions, rollback procedures documented</li>
<li><strong>Database</strong>: Migration scripts tested, backup procedures verified</li>
</ul>
<h3 id="deployment-strategies">Deployment Strategies</h3>
<ul>
<li><strong>Blue-Green Deployments</strong>: Zero-downtime deployments with instant rollback</li>
<li><strong>Canary Deployments</strong>: Gradual rollout to subset of users</li>
<li><strong>Feature Flags</strong>: Safe feature toggles for controlled releases</li>
<li><strong>Rolling Updates</strong>: Gradual replacement of instances</li>
</ul>
<h3 id="post-deployment-monitoring">Post-Deployment Monitoring</h3>
<ul>
<li><strong>Health Checks</strong>: Automated monitoring of application health</li>
<li><strong>Performance Metrics</strong>: Response times, error rates, resource usage</li>
<li><strong>Business Metrics</strong>: User engagement, conversion rates</li>
<li><strong>Alert Systems</strong>: Automated notifications for issues</li>
</ul>
<h2 id="environment-management">Environment Management</h2>
<h3 id="configuration-management">Configuration Management</h3>
<ul>
<li><strong>Environment Variables</strong>: Secure handling of environment-specific settings</li>
<li><strong>Secrets Management</strong>: Proper storage and rotation of sensitive data</li>
<li><strong>Feature Flags</strong>: Dynamic configuration without deployments</li>
</ul>
<h3 id="infrastructure-as-code">Infrastructure as Code</h3>
<ul>
<li><strong>Declarative Infrastructure</strong>: Version-controlled infrastructure definitions</li>
<li><strong>Automated Provisioning</strong>: Consistent environment setup</li>
<li><strong>Resource Optimization</strong>: Cost-effective resource allocation</li>
</ul>
<h2 id="tips-for-effective-deployment">Tips for Effective Deployment</h2>
<ul>
<li><strong>Automate Everything</strong>: Reduce human error through automation</li>
<li><strong>Test Early and Often</strong>: Catch issues before production</li>
<li><strong>Monitor Continuously</strong>: Know when something goes wrong immediately</li>
<li><strong>Plan for Failure</strong>: Always have a rollback strategy</li>
<li><strong>Document Processes</strong>: Ensure team members can handle deployments</li>
</ul>
<h2 id="related-phases">Related Phases</h2>
<ul>
<li><strong>PLAN</strong>: Use deployment constraints to influence architectural decisions</li>
<li><strong>BUILD</strong>: Ensure code is built with deployment best practices</li>
<li><strong>SUPPORT</strong>: Set up monitoring and alerting for post-deployment support</li>
</ul> </div>  </main> <footer data-astro-cid-37fxchfa> <p data-astro-cid-37fxchfa>© 2024 Sourcegraph. Supplemental to the <a href="https://ampcode.com/manual" data-astro-cid-37fxchfa>Amp Manual</a>.</p> </footer> </body></html> 