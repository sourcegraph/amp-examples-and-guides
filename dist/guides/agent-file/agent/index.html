<!DOCTYPE html><html lang="en" data-astro-cid-37fxchfa> <head><meta charset="UTF-8"><meta name="description" content="Amp Examples and Guides"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><title>undefined - Guides</title><style>[data-astro-cid-37fxchfa]{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;line-height:1.6;color:#333;background-color:#fff}nav[data-astro-cid-37fxchfa]{background:#f8f9fa;border-bottom:1px solid #e9ecef;padding:1rem 0}.nav-container[data-astro-cid-37fxchfa]{max-width:1200px;margin:0 auto;padding:0 2rem;display:flex;justify-content:space-between;align-items:center}.logo[data-astro-cid-37fxchfa]{font-weight:600;font-size:1.2rem;color:#06c;text-decoration:none}.nav-links[data-astro-cid-37fxchfa]{display:flex;gap:2rem}.nav-links[data-astro-cid-37fxchfa] a[data-astro-cid-37fxchfa]{color:#333;text-decoration:none;font-weight:500}.nav-links[data-astro-cid-37fxchfa] a[data-astro-cid-37fxchfa]:hover{color:#06c}main[data-astro-cid-37fxchfa]{max-width:1200px;margin:0 auto;padding:2rem;min-height:calc(100vh - 160px)}footer[data-astro-cid-37fxchfa]{background:#f8f9fa;border-top:1px solid #e9ecef;padding:2rem 0;text-align:center;color:#666}footer[data-astro-cid-37fxchfa] a[data-astro-cid-37fxchfa]{color:#06c}
.guide-header[data-astro-cid-oolc5s6i]{margin-bottom:2rem;padding-bottom:2rem;border-bottom:1px solid #e9ecef}.breadcrumb[data-astro-cid-oolc5s6i]{color:#666;font-size:.9rem;margin-bottom:1rem}.breadcrumb[data-astro-cid-oolc5s6i] a[data-astro-cid-oolc5s6i]{color:#06c;text-decoration:none}.breadcrumb[data-astro-cid-oolc5s6i] a[data-astro-cid-oolc5s6i]:hover{text-decoration:underline}.guide-header[data-astro-cid-oolc5s6i] h1[data-astro-cid-oolc5s6i]{color:#333;font-size:2rem;margin-bottom:1rem}.description[data-astro-cid-oolc5s6i]{color:#666;font-size:1.1rem;line-height:1.6;margin-bottom:1.5rem}.metadata[data-astro-cid-oolc5s6i]{display:flex;gap:1rem;flex-wrap:wrap}.phase-badge[data-astro-cid-oolc5s6i]{display:inline-block;padding:.25rem .5rem;border-radius:3px;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.phase-plan[data-astro-cid-oolc5s6i]{background:#e3f2fd;color:#1565c0}.phase-build[data-astro-cid-oolc5s6i]{background:#f3e5f5;color:#7b1fa2}.phase-deploy[data-astro-cid-oolc5s6i]{background:#e8f5e8;color:#2e7d32}.phase-support[data-astro-cid-oolc5s6i]{background:#fff3e0;color:#f57c00}.category-badge[data-astro-cid-oolc5s6i]{background:#f5f5f5;color:#666;padding:.25rem .5rem;border-radius:3px;font-size:.75rem}.guide-content[data-astro-cid-oolc5s6i]{max-width:none;line-height:1.7}.guide-content[data-astro-cid-oolc5s6i] h2{color:#333;font-size:1.5rem;margin:2rem 0 1rem;padding-bottom:.5rem;border-bottom:1px solid #e9ecef}.guide-content[data-astro-cid-oolc5s6i] h3{color:#333;font-size:1.25rem;margin:1.5rem 0 .75rem}.guide-content[data-astro-cid-oolc5s6i] p{margin-bottom:1rem;color:#444}.guide-content[data-astro-cid-oolc5s6i] code{background:#f8f9fa;padding:.125rem .25rem;border-radius:3px;font-size:.875rem}.guide-content[data-astro-cid-oolc5s6i] pre{background:#f8f9fa;border:1px solid #e9ecef;border-radius:4px;padding:1rem;overflow-x:auto;margin:1rem 0}.guide-content[data-astro-cid-oolc5s6i] ul,.guide-content[data-astro-cid-oolc5s6i] ol{padding-left:2rem;margin-bottom:1rem}.guide-content[data-astro-cid-oolc5s6i] li{margin-bottom:.5rem}.guide-content[data-astro-cid-oolc5s6i] blockquote{border-left:4px solid #0066cc;margin:1rem 0;padding:.5rem 1rem;background:#f8f9fa;color:#666}.guide-content[data-astro-cid-oolc5s6i] table{width:100%;border-collapse:collapse;margin:1rem 0}.guide-content[data-astro-cid-oolc5s6i] th,.guide-content[data-astro-cid-oolc5s6i] td{border:1px solid #e9ecef;padding:.75rem;text-align:left}.guide-content[data-astro-cid-oolc5s6i] th{background:#f8f9fa;font-weight:600}
</style></head> <body data-astro-cid-37fxchfa> <nav data-astro-cid-37fxchfa> <div class="nav-container" data-astro-cid-37fxchfa> <a href="/" class="logo" data-astro-cid-37fxchfa>Amp Examples & Guides</a> <div class="nav-links" data-astro-cid-37fxchfa> <a href="/guides" data-astro-cid-37fxchfa>Guides</a> <a href="/examples" data-astro-cid-37fxchfa>Examples</a> </div> </div> </nav> <main data-astro-cid-37fxchfa>  <div class="guide-header" data-astro-cid-oolc5s6i> <nav class="breadcrumb" data-astro-cid-oolc5s6i> <a href="/" data-astro-cid-oolc5s6i>Home</a> / <a href="/guides" data-astro-cid-oolc5s6i>Guides</a> /  </nav> <h1 data-astro-cid-oolc5s6i></h1> <p class="description" data-astro-cid-oolc5s6i></p> <div class="metadata" data-astro-cid-oolc5s6i>   </div> </div> <div class="guide-content" data-astro-cid-oolc5s6i> <h1 id="development-guidelines">Development Guidelines</h1>
<h2 id="core-philosophy">Core Philosophy</h2>
<p><strong>TEST-DRIVEN DEVELOPMENT IS NON-NEGOTIABLE.</strong> Every single line of production code must be written in response to a failing test. No exceptions. This is not a suggestion or a preference - it is the fundamental practice that enables all other principles.</p>
<p>I follow Test-Driven Development (TDD) with a strong emphasis on behavior-driven testing and functional programming principles. All work should be done in small, incremental changes that maintain a working state throughout development.</p>
<h2 id="quick-reference">Quick Reference</h2>
<p><strong>Key Principles:</strong></p>
<ul>
<li>Write tests first (TDD)</li>
<li>Test behavior, not implementation</li>
<li>No <code>any</code> types or type assertions</li>
<li>Immutable data only</li>
<li>Small, pure functions</li>
<li>TypeScript strict mode always</li>
<li>Use real schemas/types in tests, never redefine them</li>
</ul>
<p><strong>Preferred Tools:</strong></p>
<ul>
<li><strong>Language</strong>: TypeScript (strict mode)</li>
<li><strong>Testing</strong>: Jest/Vitest + React Testing Library</li>
<li><strong>State Management</strong>: Prefer immutable patterns</li>
</ul>
<h2 id="typescript-guidelines">TypeScript Guidelines</h2>
<h3 id="strict-mode-requirements">Strict Mode Requirements</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="json"><code><span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#79B8FF">  "compilerOptions"</span><span style="color:#E1E4E8">: {</span></span>
<span class="line"><span style="color:#79B8FF">    "strict"</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">true</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">    "noImplicitAny"</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">true</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">    "strictNullChecks"</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">true</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">    "noImplicitReturns"</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">true</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">    "noFallthroughCasesInSwitch"</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">true</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<ul>
<li><strong>No <code>any</code></strong> - ever. Use <code>unknown</code> if type is truly unknown</li>
<li><strong>No type assertions</strong> (<code>as SomeType</code>) unless absolutely necessary with clear justification</li>
<li><strong>No <code>@ts-ignore</code></strong> or <code>@ts-expect-error</code> without explicit explanation</li>
<li>These rules apply to test code as well as production code</li>
</ul>
<h2 id="development-workflow">Development Workflow</h2>
<h3 id="taskissue-source">Task/Issue source</h3>
<ul>
<li>References to project Issues starting with GTM-* are from linear, access these via the Linear MCP server</li>
</ul>
<h3 id="pull-request-guidelines">Pull Request Guidelines</h3>
<p>When creating a pull request, follow these guidelines</p>
<ul>
<li>Create a new branch for each user story</li>
<li>Name the branch with the user story number and a brief description</li>
<li>Include a link to the user story in the PR description</li>
<li>Create a PR using the GitHub Cli using the gh commands <code>gh pr create</code></li>
<li>When create a GitHub PR be sure to include all the items below - to ensure it’s formatted correctly use the flag —body-file with a temp pr-description.md file that isn’t commited.</li>
<li>Reference any relevant issues in the PR description</li>
<li>Include a high level summary of the changes made in the PR description for a product manager to understand</li>
<li>When pushing a branch in GitHub always push to origin and never create a Fork</li>
<li>Include another summary of the changes made in the PR description for a developer to understand (Technical Notes)</li>
<li>Include a mermaid digram explain how the new features work in the PR description. This is to help a human quickly get up to speed as to what was changed and why. This is very important.</li>
<li>Ensure all CI checks pass before merging (unit tests)</li>
<li>Outline if you added any additional unit tests in the description and include the names of the new tests added and number of tests removed eg (Added 2 tests, removed 1 test) with a summary of the tests added and removed.</li>
<li>Include Human testing instructions for a human to review with URLS, eg visit / , perform action, expected 1. toggle to do XYZ</li>
<li>No need to include screenshots in the PR</li>
</ul>
<h3 id="tdd-process---the-fundamental-practice">TDD Process - THE FUNDAMENTAL PRACTICE</h3>
<p><strong>CRITICAL</strong>: TDD is not optional. Every feature, every bug fix, every change MUST follow this process:</p>
<ol>
<li><strong>Red</strong>: Write a failing test for the desired behavior. NO PRODUCTION CODE until you have a failing test.</li>
<li><strong>Green</strong>: Write the MINIMUM code to make the test pass. Resist the urge to write more than needed.</li>
<li><strong>Refactor</strong>: Assess the code for improvement opportunities. If refactoring would add value, clean up the code while keeping tests green.</li>
</ol>
<p><strong>Common TDD Violations to Avoid:</strong></p>
<ul>
<li>Writing production code without a failing test first</li>
<li>Writing multiple tests before making the first one pass</li>
<li>Writing more production code than needed to pass the current test</li>
<li>Skipping the refactor assessment step when code could be improved</li>
</ul>
<p><strong>Remember</strong>: If you’re typing production code and there isn’t a failing test demanding that code, you’re not doing TDD.</p>
<h2 id="refactoring-guidelines">Refactoring Guidelines</h2>
<p>Refactoring must never break existing consumers of your code. Always:</p>
<ol>
<li>Commit before refactoring</li>
<li>Look for useful abstractions based on semantic meaning</li>
<li>Maintain external APIs during refactoring</li>
<li>Verify and commit after refactoring</li>
</ol>
<h2 id="error-handling">Error Handling</h2>
<p>Use Result types or early returns:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#F97583">type</span><span style="color:#B392F0"> Result</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#B392F0">T</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">E</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> Error</span><span style="color:#E1E4E8">> </span><span style="color:#F97583">=</span></span>
<span class="line"><span style="color:#F97583">  |</span><span style="color:#E1E4E8"> { </span><span style="color:#FFAB70">success</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> true</span><span style="color:#E1E4E8">; </span><span style="color:#FFAB70">data</span><span style="color:#F97583">:</span><span style="color:#B392F0"> T</span><span style="color:#E1E4E8"> }</span></span>
<span class="line"><span style="color:#F97583">  |</span><span style="color:#E1E4E8"> { </span><span style="color:#FFAB70">success</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> false</span><span style="color:#E1E4E8">; </span><span style="color:#FFAB70">error</span><span style="color:#F97583">:</span><span style="color:#B392F0"> E</span><span style="color:#E1E4E8"> };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#B392F0"> processPayment</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> (</span></span>
<span class="line"><span style="color:#FFAB70">  payment</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Payment</span></span>
<span class="line"><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Result</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#B392F0">ProcessedPayment</span><span style="color:#E1E4E8">, </span><span style="color:#B392F0">PaymentError</span><span style="color:#E1E4E8">> </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  if</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">!</span><span style="color:#B392F0">isValidPayment</span><span style="color:#E1E4E8">(payment)) {</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> { success: </span><span style="color:#79B8FF">false</span><span style="color:#E1E4E8">, error: </span><span style="color:#F97583">new</span><span style="color:#B392F0"> PaymentError</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"Invalid payment"</span><span style="color:#E1E4E8">) };</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#E1E4E8"> { success: </span><span style="color:#79B8FF">true</span><span style="color:#E1E4E8">, data: </span><span style="color:#B392F0">executePayment</span><span style="color:#E1E4E8">(payment) };</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span></code></pre> </div>  </main> <footer data-astro-cid-37fxchfa> <p data-astro-cid-37fxchfa>© 2024 Sourcegraph. Supplemental to the <a href="https://ampcode.com/manual" data-astro-cid-37fxchfa>Amp Manual</a>.</p> </footer> </body></html> 