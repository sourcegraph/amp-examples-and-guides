<!DOCTYPE html><html lang="en" data-astro-cid-37fxchfa> <head><meta charset="UTF-8"><meta name="description" content="Amp Examples and Guides"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><title>undefined - Guides</title><style>[data-astro-cid-37fxchfa]{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;line-height:1.6;color:#333;background-color:#fff}nav[data-astro-cid-37fxchfa]{background:#f8f9fa;border-bottom:1px solid #e9ecef;padding:1rem 0}.nav-container[data-astro-cid-37fxchfa]{max-width:1200px;margin:0 auto;padding:0 2rem;display:flex;justify-content:space-between;align-items:center}.logo[data-astro-cid-37fxchfa]{font-weight:600;font-size:1.2rem;color:#06c;text-decoration:none}.nav-links[data-astro-cid-37fxchfa]{display:flex;gap:2rem}.nav-links[data-astro-cid-37fxchfa] a[data-astro-cid-37fxchfa]{color:#333;text-decoration:none;font-weight:500}.nav-links[data-astro-cid-37fxchfa] a[data-astro-cid-37fxchfa]:hover{color:#06c}main[data-astro-cid-37fxchfa]{max-width:1200px;margin:0 auto;padding:2rem;min-height:calc(100vh - 160px)}footer[data-astro-cid-37fxchfa]{background:#f8f9fa;border-top:1px solid #e9ecef;padding:2rem 0;text-align:center;color:#666}footer[data-astro-cid-37fxchfa] a[data-astro-cid-37fxchfa]{color:#06c}
.guide-header[data-astro-cid-oolc5s6i]{margin-bottom:2rem;padding-bottom:2rem;border-bottom:1px solid #e9ecef}.breadcrumb[data-astro-cid-oolc5s6i]{color:#666;font-size:.9rem;margin-bottom:1rem}.breadcrumb[data-astro-cid-oolc5s6i] a[data-astro-cid-oolc5s6i]{color:#06c;text-decoration:none}.breadcrumb[data-astro-cid-oolc5s6i] a[data-astro-cid-oolc5s6i]:hover{text-decoration:underline}.guide-header[data-astro-cid-oolc5s6i] h1[data-astro-cid-oolc5s6i]{color:#333;font-size:2rem;margin-bottom:1rem}.description[data-astro-cid-oolc5s6i]{color:#666;font-size:1.1rem;line-height:1.6;margin-bottom:1.5rem}.metadata[data-astro-cid-oolc5s6i]{display:flex;gap:1rem;flex-wrap:wrap}.phase-badge[data-astro-cid-oolc5s6i]{display:inline-block;padding:.25rem .5rem;border-radius:3px;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.phase-plan[data-astro-cid-oolc5s6i]{background:#e3f2fd;color:#1565c0}.phase-build[data-astro-cid-oolc5s6i]{background:#f3e5f5;color:#7b1fa2}.phase-deploy[data-astro-cid-oolc5s6i]{background:#e8f5e8;color:#2e7d32}.phase-support[data-astro-cid-oolc5s6i]{background:#fff3e0;color:#f57c00}.category-badge[data-astro-cid-oolc5s6i]{background:#f5f5f5;color:#666;padding:.25rem .5rem;border-radius:3px;font-size:.75rem}.guide-content[data-astro-cid-oolc5s6i]{max-width:none;line-height:1.7}.guide-content[data-astro-cid-oolc5s6i] h2{color:#333;font-size:1.5rem;margin:2rem 0 1rem;padding-bottom:.5rem;border-bottom:1px solid #e9ecef}.guide-content[data-astro-cid-oolc5s6i] h3{color:#333;font-size:1.25rem;margin:1.5rem 0 .75rem}.guide-content[data-astro-cid-oolc5s6i] p{margin-bottom:1rem;color:#444}.guide-content[data-astro-cid-oolc5s6i] code{background:#f8f9fa;padding:.125rem .25rem;border-radius:3px;font-size:.875rem}.guide-content[data-astro-cid-oolc5s6i] pre{background:#f8f9fa;border:1px solid #e9ecef;border-radius:4px;padding:1rem;overflow-x:auto;margin:1rem 0}.guide-content[data-astro-cid-oolc5s6i] ul,.guide-content[data-astro-cid-oolc5s6i] ol{padding-left:2rem;margin-bottom:1rem}.guide-content[data-astro-cid-oolc5s6i] li{margin-bottom:.5rem}.guide-content[data-astro-cid-oolc5s6i] blockquote{border-left:4px solid #0066cc;margin:1rem 0;padding:.5rem 1rem;background:#f8f9fa;color:#666}.guide-content[data-astro-cid-oolc5s6i] table{width:100%;border-collapse:collapse;margin:1rem 0}.guide-content[data-astro-cid-oolc5s6i] th,.guide-content[data-astro-cid-oolc5s6i] td{border:1px solid #e9ecef;padding:.75rem;text-align:left}.guide-content[data-astro-cid-oolc5s6i] th{background:#f8f9fa;font-weight:600}
</style></head> <body data-astro-cid-37fxchfa> <nav data-astro-cid-37fxchfa> <div class="nav-container" data-astro-cid-37fxchfa> <a href="/" class="logo" data-astro-cid-37fxchfa>Amp Examples & Guides</a> <div class="nav-links" data-astro-cid-37fxchfa> <a href="/guides" data-astro-cid-37fxchfa>Guides</a> <a href="/examples" data-astro-cid-37fxchfa>Examples</a> </div> </div> </nav> <main data-astro-cid-37fxchfa>  <div class="guide-header" data-astro-cid-oolc5s6i> <nav class="breadcrumb" data-astro-cid-oolc5s6i> <a href="/" data-astro-cid-oolc5s6i>Home</a> / <a href="/guides" data-astro-cid-oolc5s6i>Guides</a> /  </nav> <h1 data-astro-cid-oolc5s6i></h1> <p class="description" data-astro-cid-oolc5s6i></p> <div class="metadata" data-astro-cid-oolc5s6i>   </div> </div> <div class="guide-content" data-astro-cid-oolc5s6i> <h1 id="amp-cli-guide">Amp CLI Guide</h1>
<p>Complete guide to using Amp from the command line for all phases of software development.</p>
<h2 id="table-of-contents">Table of Contents</h2>
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#quick-start">Quick Start</a></li>
<li><a href="#core-concepts">Core Concepts</a></li>
<li><a href="#basic-usage">Basic Usage</a></li>
<li><a href="#thread-management">Thread Management</a></li>
<li><a href="#intermediate-features">Intermediate Features</a></li>
<li><a href="#configuration">Configuration</a></li>
<li><a href="#tools--extensions">Tools &#x26; Extensions</a></li>
<li><a href="#real-world-use-cases--examples">Real-World Use Cases &#x26; Examples</a></li>
<li><a href="#troubleshooting">Troubleshooting</a></li>
</ul>
<hr>
<h2 id="introduction">Introduction</h2>
<p>Amp is designed for developers who want to stay in their command-line workflow. Amp can be run anywhere - from your terminal, IDE, CI/CD pipelines, Docker container or anywhere with a terminal.</p>
<hr>
<h2 id="quick-start">Quick Start</h2>
<h3 id="installation">Installation</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># Using pnpm (recommended)</span></span>
<span class="line"><span style="color:#B392F0">pnpm</span><span style="color:#9ECBFF"> add</span><span style="color:#79B8FF"> -g</span><span style="color:#9ECBFF"> @sourcegraph/amp</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Using npm</span></span>
<span class="line"><span style="color:#B392F0">npm</span><span style="color:#9ECBFF"> install</span><span style="color:#79B8FF"> -g</span><span style="color:#9ECBFF"> @sourcegraph/amp</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Using yarn</span></span>
<span class="line"><span style="color:#B392F0">yarn</span><span style="color:#9ECBFF"> global</span><span style="color:#9ECBFF"> add</span><span style="color:#9ECBFF"> @sourcegraph/amp</span></span></code></pre>
<h3 id="first-run">First Run</h3>
<p>You can get started in two ways:</p>
<h3 id="option-1-interactive-authentication">Option 1: Interactive Authentication</h3>
<ol>
<li><strong>Start Amp:</strong> <code>amp</code></li>
<li><strong>Authenticate:</strong> Follow the automatic authentication prompt or run <code>amp login</code></li>
<li><strong>Try a simple request:</strong> “Show me the structure of this project”</li>
<li><strong>Get help:</strong> <code>amp --help</code></li>
</ol>
<h3 id="option-2-environment-variables-cicd--automation">Option 2: Environment Variables (CI/CD &#x26; Automation)</h3>
<p>Set up environment variables for automated workflows, GitHub pipelines, or any environment where an executable can run:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#F97583">export</span><span style="color:#E1E4E8"> AMP_API_KEY</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"your-api-key"</span><span style="color:#6A737D">              # API key from ampcode.com/settings</span></span>
<span class="line"><span style="color:#F97583">export</span><span style="color:#E1E4E8"> AMP_LOG_LEVEL</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"info"</span><span style="color:#6A737D">                    # Set log level (error, warn, info, debug)</span></span>
<span class="line"><span style="color:#F97583">export</span><span style="color:#E1E4E8"> AMP_SETTINGS_FILE</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"/custom/path/settings.json"</span><span style="color:#6A737D">  # Custom settings location</span></span></code></pre>
<hr>
<h2 id="core-concepts">Core Concepts</h2>
<h3 id="threads">Threads</h3>
<p>Threads are persistent conversations that maintain context across interactions. Your threads sync to <a href="https://ampcode.com">ampcode.com</a>, allowing you to continue conversations across devices.</p>
<h3 id="agentmd-files">AGENT.md Files</h3>
<p>Add an <code>AGENT.md</code> file in your project root to provide context about your codebase structure, build commands, and coding standards. This helps Amp understand your project better.</p>
<h3 id="tools">Tools</h3>
<p>Amp comes with built-in tools for coding tasks and can be extended with custom MCP (Model Context Protocol) servers.</p>
<h3 id="execution-modes">Execution Modes</h3>

























<table><thead><tr><th>Mode</th><th>Description</th><th>Usage</th></tr></thead><tbody><tr><td><strong>Interactive Mode</strong></td><td>Ongoing conversations with the AI</td><td><code>amp</code> (default)</td></tr><tr><td><strong>Execute Mode</strong></td><td>Non-interactive, single-shot responses</td><td><code>amp -x "command"</code></td></tr><tr><td><strong>Piping/Streaming Mode</strong></td><td>Pipe commands and data from streams</td><td><code>command | amp</code></td></tr></tbody></table>
<hr>
<h2 id="basic-usage">Basic Usage</h2>
<h3 id="interactive-mode">Interactive Mode</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">amp</span><span style="color:#6A737D">  # Start interactive session</span></span></code></pre>
<p><strong>Interactive Features:</strong></p>
<ul>
<li><strong>File Mentions:</strong> Type <code>@</code> followed by a pattern for fuzzy file search</li>
<li><strong>Full Screen Navigation:</strong> Hit <code>Ctrl+R</code> to enter full screen mode
<ul>
<li><code>Space</code>: Navigate between pages</li>
<li><code>J/K</code>: Move line by line</li>
<li><code>G/Shift+G</code>: Jump to top/bottom</li>
<li><code>Q</code>: Quit full screen mode</li>
</ul>
</li>
<li><strong>Slash Commands:</strong> Use <code>/compact</code> to compress conversation history</li>
</ul>
<h3 id="execute-mode">Execute Mode</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># Single command</span></span>
<span class="line"><span style="color:#B392F0">amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "commit all my unstaged changes"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># From file</span></span>
<span class="line"><span style="color:#B392F0">amp</span><span style="color:#F97583"> &#x3C;</span><span style="color:#9ECBFF"> prompt.txt</span><span style="color:#F97583"> ></span><span style="color:#9ECBFF"> output.txt</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Piping</span></span>
<span class="line"><span style="color:#79B8FF">echo</span><span style="color:#9ECBFF"> "analyze this code for bugs"</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> amp</span></span></code></pre>
<h3 id="file-references">File References</h3>
<ul>
<li><strong>Mention Files:</strong> Type <code>@</code> followed by a pattern to fuzzy-search files</li>
</ul>
<hr>
<h2 id="thread-management">Thread Management</h2>
<h3 id="basic-thread-operations">Basic Thread Operations</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># Create new thread</span></span>
<span class="line"><span style="color:#B392F0">amp</span><span style="color:#9ECBFF"> threads</span><span style="color:#9ECBFF"> new</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Continue existing thread (if threadId provided, previous thread is continued)</span></span>
<span class="line"><span style="color:#B392F0">amp</span><span style="color:#9ECBFF"> threads</span><span style="color:#9ECBFF"> continue</span><span style="color:#E1E4E8"> [threadId]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># List all threads</span></span>
<span class="line"><span style="color:#B392F0">amp</span><span style="color:#9ECBFF"> threads</span><span style="color:#9ECBFF"> list</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Fork existing thread (if threadId provided, previous thread is forked)</span></span>
<span class="line"><span style="color:#B392F0">amp</span><span style="color:#9ECBFF"> threads</span><span style="color:#9ECBFF"> fork</span><span style="color:#E1E4E8"> [threadId]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Share thread</span></span>
<span class="line"><span style="color:#B392F0">amp</span><span style="color:#9ECBFF"> threads</span><span style="color:#9ECBFF"> share</span><span style="color:#E1E4E8"> [threadId]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Compact thread (reduce token usage)</span></span>
<span class="line"><span style="color:#B392F0">amp</span><span style="color:#9ECBFF"> threads</span><span style="color:#9ECBFF"> compact</span><span style="color:#E1E4E8"> [threadId]</span></span></code></pre>
<h3 id="thread-workflows">Thread Workflows</h3>
<p><strong>Feature Development (Linear Workflow):</strong><br>
This example shows a continuous thread where each command builds on the previous context:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># Start a feature development thread</span></span>
<span class="line"><span style="color:#B392F0">amp</span><span style="color:#9ECBFF"> threads</span><span style="color:#9ECBFF"> new</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Plan implementation of user authentication feature"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Continue working on the same feature</span></span>
<span class="line"><span style="color:#B392F0">amp</span><span style="color:#9ECBFF"> threads</span><span style="color:#9ECBFF"> continue</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Implement the login endpoint"</span></span></code></pre>
<p><strong>Bug Investigation (Thread Resumption):</strong><br>
This example shows how to resume a specific thread from days or weeks ago by specifying its threadID:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># Start debugging thread</span></span>
<span class="line"><span style="color:#B392F0">amp</span><span style="color:#9ECBFF"> threads</span><span style="color:#9ECBFF"> new</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Investigate why users can't log in on mobile devices"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Deep dive into the issue</span></span>
<span class="line"><span style="color:#B392F0">amp</span><span style="color:#9ECBFF"> threads</span><span style="color:#9ECBFF"> continue</span><span style="color:#E1E4E8"> [threadId] -x </span><span style="color:#9ECBFF">"Check mobile-specific CSS and JavaScript errors"</span></span></code></pre>
<hr>
<h2 id="intermediate-features">Intermediate Features</h2>
<h3 id="slash-commands-in-interactive-mode">Slash Commands in Interactive Mode</h3>





























<table><thead><tr><th>Command</th><th>Description</th></tr></thead><tbody><tr><td><code>/editor</code></td><td>Open your <code>$EDITOR</code> to write longer prompts</td></tr><tr><td><code>/agent</code></td><td>Generate an AGENT.md file in the current workspace</td></tr><tr><td><code>/compact</code></td><td>Compress conversation history to save tokens</td></tr><tr><td><code>/help</code></td><td>Show help and hotkeys</td></tr><tr><td><code>/quit</code></td><td>Quit Amp</td></tr></tbody></table>
<h3 id="piping-and-redirection">Piping and Redirection</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># Process command output</span></span>
<span class="line"><span style="color:#B392F0">ls</span><span style="color:#79B8FF"> -la</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "organize these files by type and suggest cleanup"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Save results to file</span></span>
<span class="line"><span style="color:#B392F0">amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "generate a project readme"</span><span style="color:#F97583"> ></span><span style="color:#9ECBFF"> README.md</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Chain commands</span></span>
<span class="line"><span style="color:#B392F0">git</span><span style="color:#9ECBFF"> log</span><span style="color:#79B8FF"> --oneline</span><span style="color:#79B8FF"> -10</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "summarize recent changes"</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> tee</span><span style="color:#9ECBFF"> summary.txt</span></span></code></pre>
<h3 id="environment-variables">Environment Variables</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#F97583">export</span><span style="color:#E1E4E8"> AMP_API_KEY</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"your-api-key"</span><span style="color:#6A737D">              # API key from ampcode.com/settings</span></span>
<span class="line"><span style="color:#F97583">export</span><span style="color:#E1E4E8"> AMP_LOG_LEVEL</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"info"</span><span style="color:#6A737D">                    # Set log level (error, warn, info, debug)</span></span>
<span class="line"><span style="color:#F97583">export</span><span style="color:#E1E4E8"> AMP_SETTINGS_FILE</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"/custom/path/settings.json"</span><span style="color:#6A737D">  # Custom settings location</span></span></code></pre>
<hr>
<h2 id="configuration">Configuration</h2>
<h3 id="settings-file-location">Settings File Location</h3>
<p>Configure Amp using a JSON settings file at <code>~/.config/amp/settings.json</code>:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="json"><code><span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#79B8FF">  "amp.notifications.enabled"</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">true</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">  "amp.mcpServers"</span><span style="color:#E1E4E8">: {</span></span>
<span class="line"><span style="color:#79B8FF">    "filesystem"</span><span style="color:#E1E4E8">: {</span></span>
<span class="line"><span style="color:#79B8FF">      "command"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"npx"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">      "args"</span><span style="color:#E1E4E8">: [</span><span style="color:#9ECBFF">"@modelcontextprotocol/server-filesystem"</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">"/path/to/allowed/dir"</span><span style="color:#E1E4E8">]</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">  },</span></span>
<span class="line"><span style="color:#79B8FF">  "amp.tools.disable"</span><span style="color:#E1E4E8">: [</span><span style="color:#9ECBFF">"browser_navigate"</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#79B8FF">  "amp.commands.allowlist"</span><span style="color:#E1E4E8">: [</span><span style="color:#9ECBFF">"git status"</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">"npm run build"</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#79B8FF">  "amp.commands.strict"</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">false</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">  "amp.dangerouslyAllowAll"</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">false</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<h3 id="command-allowlisting">Command Allowlisting</h3>
<blockquote>
<p>[!IMPORTANT]
For security, Amp uses command allowlisting. Add safe commands to your allowlist:</p>
</blockquote>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="json"><code><span class="line"><span style="color:#9ECBFF">"amp.commands.allowlist"</span><span style="color:#E1E4E8">: [</span></span>
<span class="line"><span style="color:#9ECBFF">  "pnpm exec tsc --build"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">  "pnpm -C web check"</span><span style="color:#E1E4E8">, </span></span>
<span class="line"><span style="color:#9ECBFF">  "make build"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">  "npm run * --test"</span></span>
<span class="line"><span style="color:#E1E4E8">]</span></span></code></pre>
<h3 id="environment-configuration">Environment Configuration</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="json"><code><span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#79B8FF">  "amp.commands.loadUserEnvironment"</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">true</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<p>This loads variables from <code>.bashrc</code>, <code>.zshrc</code>, <code>.envrc</code> before running MCP servers.</p>
<hr>
<h2 id="tools--extensions">Tools &#x26; Extensions</h2>
<h3 id="built-in-tools-16-available">Built-in Tools (16 available)</h3>
<ul>
<li><strong>Bash</strong> - Execute shell commands with safety controls</li>
<li><strong>codebase_search_agent</strong> - Intelligent codebase search with AI assistant</li>
<li><strong>create_file</strong> - Create or overwrite files in workspace</li>
<li><strong>edit_file</strong> - Make precise edits to existing files</li>
<li><strong>glob</strong> - Fast file pattern matching and discovery</li>
<li><strong>Grep</strong> - Search for exact text patterns using ripgrep</li>
<li><strong>list_directory</strong> - List files and directories</li>
<li><strong>mermaid</strong> - Generate flowcharts and architecture diagrams</li>
<li><strong>oracle</strong> - Consult AI advisor for planning and code reviews</li>
<li><strong>Read</strong> - Read files from filesystem (supports images)</li>
<li><strong>read_web_page</strong> - Read and analyze web page contents</li>
<li><strong>Task</strong> - Spawn independent sub-agents for complex tasks</li>
<li><strong>todo_read</strong> - Read current session todo list</li>
<li><strong>todo_write</strong> - Update and track session todos</li>
<li><strong>undo_edit</strong> - Revert last file edit</li>
<li><strong>web_search</strong> - Search the web for current information</li>
</ul>
<h3 id="managing-tools">Managing Tools</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># View available tools</span></span>
<span class="line"><span style="color:#B392F0">amp</span><span style="color:#9ECBFF"> tools</span><span style="color:#9ECBFF"> show</span></span></code></pre>
<p><strong>Disable specific tools</strong> (in settings.json):</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="json"><code><span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#79B8FF">  "amp.tools.disable"</span><span style="color:#E1E4E8">: [</span></span>
<span class="line"><span style="color:#9ECBFF">    "browser_navigate"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">    "builtin:edit_file"</span></span>
<span class="line"><span style="color:#E1E4E8">  ]</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<h3 id="mcp-model-context-protocol-servers">MCP (Model Context Protocol) Servers</h3>
<h4 id="adding-local-mcp-servers">Adding Local MCP Servers</h4>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="json"><code><span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#79B8FF">  "amp.mcpServers"</span><span style="color:#E1E4E8">: {</span></span>
<span class="line"><span style="color:#79B8FF">    "filesystem"</span><span style="color:#E1E4E8">: {</span></span>
<span class="line"><span style="color:#79B8FF">      "command"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"npx"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">      "args"</span><span style="color:#E1E4E8">: [</span></span>
<span class="line"><span style="color:#9ECBFF">        "@modelcontextprotocol/server-filesystem"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">        "/path/to/allowed/directory"</span></span>
<span class="line"><span style="color:#E1E4E8">      ]</span></span>
<span class="line"><span style="color:#E1E4E8">    },</span></span>
<span class="line"><span style="color:#79B8FF">    "playwright"</span><span style="color:#E1E4E8">: {</span></span>
<span class="line"><span style="color:#79B8FF">      "command"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"npx"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">      "args"</span><span style="color:#E1E4E8">: [</span><span style="color:#9ECBFF">"-y"</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">"@playwright/mcp@latest"</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">"--headless"</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">"--isolated"</span><span style="color:#E1E4E8">]</span></span>
<span class="line"><span style="color:#E1E4E8">    },</span></span>
<span class="line"><span style="color:#79B8FF">    "supabase"</span><span style="color:#E1E4E8">: {</span></span>
<span class="line"><span style="color:#79B8FF">      "command"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"npx"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">      "args"</span><span style="color:#E1E4E8">: [</span></span>
<span class="line"><span style="color:#9ECBFF">        "-y"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">        "@supabase/mcp-server-supabase@latest"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">        "--read-only"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">        "--project-ref=your-project-ref"</span></span>
<span class="line"><span style="color:#E1E4E8">      ],</span></span>
<span class="line"><span style="color:#79B8FF">      "env"</span><span style="color:#E1E4E8">: {</span></span>
<span class="line"><span style="color:#79B8FF">        "SUPABASE_ACCESS_TOKEN"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"your-token"</span></span>
<span class="line"><span style="color:#E1E4E8">      }</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<h4 id="remote-mcp-servers">Remote MCP Servers</h4>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="json"><code><span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#79B8FF">  "amp.mcpServers"</span><span style="color:#E1E4E8">: {</span></span>
<span class="line"><span style="color:#79B8FF">    "semgrep"</span><span style="color:#E1E4E8">: {</span></span>
<span class="line"><span style="color:#79B8FF">      "url"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"https://mcp.semgrep.ai/mcp"</span></span>
<span class="line"><span style="color:#E1E4E8">    },</span></span>
<span class="line"><span style="color:#79B8FF">    "linear"</span><span style="color:#E1E4E8">: {</span></span>
<span class="line"><span style="color:#79B8FF">      "command"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"npx"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">      "args"</span><span style="color:#E1E4E8">: [</span><span style="color:#9ECBFF">"mcp-remote"</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">"https://mcp.linear.app/sse"</span><span style="color:#E1E4E8">]</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<h4 id="mcp-best-practices">MCP Best Practices</h4>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" checked disabled> <strong>Selective Tool Use:</strong> Be selective with tools to maintain model performance</li>
<li class="task-list-item"><input type="checkbox" checked disabled> <strong>Security Configuration:</strong> Use read-only modes when possible</li>
<li class="task-list-item"><input type="checkbox" checked disabled> <strong>Project-Specific Setup:</strong> Document required MCP servers in your <code>AGENT.md</code> file</li>
<li class="task-list-item"><input type="checkbox" checked disabled> <strong>Tool Discovery:</strong> Use <code>amp tools show</code> to see all available tools</li>
</ul>
<hr>
<h2 id="real-world-use-cases--examples">Real-World Use Cases &#x26; Examples</h2>
<h3 id="1-code-analysis-and-refactoring">1. Code Analysis and Refactoring</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># Complex analysis using multiple tools and piping</span></span>
<span class="line"><span style="color:#B392F0">git</span><span style="color:#9ECBFF"> log</span><span style="color:#79B8FF"> --oneline</span><span style="color:#79B8FF"> --since=</span><span style="color:#9ECBFF">"3 months ago"</span><span style="color:#9ECBFF"> src/</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Analyze commit patterns and identify files with high churn rate"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Deep security analysis with tool chaining</span></span>
<span class="line"><span style="color:#B392F0">amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Run git blame on all files in src/auth/ and src/security/, then analyze the code for potential vulnerabilities, cross-reference with recent CVE databases, and generate a security risk assessment report"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Comprehensive refactoring analysis</span></span>
<span class="line"><span style="color:#B392F0">find</span><span style="color:#9ECBFF"> .</span><span style="color:#79B8FF"> -name</span><span style="color:#9ECBFF"> "*.js"</span><span style="color:#79B8FF"> -o</span><span style="color:#79B8FF"> -name</span><span style="color:#9ECBFF"> "*.ts"</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> head</span><span style="color:#79B8FF"> -20</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Analyze these files for code duplication, suggest refactoring opportunities, and estimate the impact of proposed changes"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Strategic refactoring planning with Amp Oracle</span></span>
<span class="line"><span style="color:#B392F0">amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Use Amp Oracle to create a comprehensive refactoring plan for this codebase, including architectural debt assessment, effort estimation, and risk analysis"</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> tee</span><span style="color:#9ECBFF"> refactoring-plan.md</span></span></code></pre>
<h3 id="2-git-workflow-enhancement">2. Git Workflow Enhancement</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># Smart commit messages with context analysis</span></span>
<span class="line"><span style="color:#B392F0">git</span><span style="color:#9ECBFF"> diff</span><span style="color:#79B8FF"> --staged</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Generate a conventional commit message based on these changes"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Strategic git workflow planning with Oracle</span></span>
<span class="line"><span style="color:#B392F0">git</span><span style="color:#9ECBFF"> log</span><span style="color:#79B8FF"> --graph</span><span style="color:#79B8FF"> --oneline</span><span style="color:#79B8FF"> -20</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Use Amp Oracle to analyze this git history and create a comprehensive branching strategy optimization plan"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Parallel git analysis with subagents</span></span>
<span class="line"><span style="color:#B392F0">amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Spawn subagents to: 1) identify merge conflict patterns, 2) suggest branch naming conventions, 3) recommend automated workflow improvements"</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Create integrated git workflow improvement strategy"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Complex release preparation with multi-stage pipeline</span></span>
<span class="line"><span style="color:#B392F0">git</span><span style="color:#9ECBFF"> diff</span><span style="color:#9ECBFF"> HEAD~10..HEAD</span><span style="color:#79B8FF"> --name-only</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Analyze changed files for this release"</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Spawn subagents to: validate changelog completeness, check for breaking changes, and generate release notes"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Intelligent commit analysis and team insights</span></span>
<span class="line"><span style="color:#B392F0">git</span><span style="color:#9ECBFF"> log</span><span style="color:#79B8FF"> --since=</span><span style="color:#9ECBFF">"1 month ago"</span><span style="color:#79B8FF"> --pretty=format:</span><span style="color:#9ECBFF">"%h %an %s"</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Analyze commit patterns by author, spawn subagents to: 1) identify code review bottlenecks, 2) suggest mentoring opportunities, 3) recommend process improvements"</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> tee</span><span style="color:#9ECBFF"> team-insights.md</span></span></code></pre>
<h3 id="3-build-and-test-automation">3. Build and Test Automation</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># Fix build errors with intelligent debugging</span></span>
<span class="line"><span style="color:#B392F0">npm</span><span style="color:#9ECBFF"> run</span><span style="color:#9ECBFF"> build</span><span style="color:#F97583"> 2>&#x26;1</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Parse these build errors and fix all TypeScript issues"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Strategic CI/CD planning with Oracle</span></span>
<span class="line"><span style="color:#B392F0">npm</span><span style="color:#9ECBFF"> run</span><span style="color:#9ECBFF"> test</span><span style="color:#79B8FF"> --</span><span style="color:#79B8FF"> --reporter=json</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Use Amp Oracle to analyze test results and create a comprehensive test improvement strategy"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Parallel CI/CD analysis with subagents</span></span>
<span class="line"><span style="color:#B392F0">amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Spawn subagents to: 1) identify flaky tests, 2) suggest performance optimizations, 3) recommend test coverage improvements"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Multi-environment validation pipeline</span></span>
<span class="line"><span style="color:#F97583">for</span><span style="color:#E1E4E8"> env </span><span style="color:#F97583">in</span><span style="color:#9ECBFF"> dev</span><span style="color:#9ECBFF"> staging</span><span style="color:#9ECBFF"> prod</span><span style="color:#E1E4E8">; </span><span style="color:#F97583">do</span><span style="color:#79B8FF"> echo</span><span style="color:#9ECBFF"> "Environment: </span><span style="color:#E1E4E8">$env</span><span style="color:#9ECBFF">"</span><span style="color:#E1E4E8">; </span><span style="color:#B392F0">cat</span><span style="color:#9ECBFF"> "config/</span><span style="color:#E1E4E8">$env</span><span style="color:#9ECBFF">.json"</span><span style="color:#E1E4E8">; </span><span style="color:#F97583">done</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Analyze environment configurations, spawn subagents to validate: 1) security settings consistency, 2) performance parameter optimization, 3) feature flag alignment"</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Generate environment-specific deployment recommendations"</span></span></code></pre>
<h3 id="4-database-operations">4. Database Operations</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># Schema analysis with intelligent recommendations</span></span>
<span class="line"><span style="color:#B392F0">amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Using MCP database tools and staging environment settings from AGENT.md, connect to the database and analyze the user table schema for potential optimizations"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Complex data migration planning with risk assessment</span></span>
<span class="line"><span style="color:#B392F0">pg_dump</span><span style="color:#79B8FF"> --schema-only</span><span style="color:#9ECBFF"> database_name</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Analyze this schema and spawn subagents to: 1) plan data migration strategy, 2) identify potential data integrity issues, 3) estimate downtime requirements"</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Create detailed migration runbook with rollback procedures"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Multi-database performance analysis</span></span>
<span class="line"><span style="color:#F97583">for</span><span style="color:#E1E4E8"> db </span><span style="color:#F97583">in</span><span style="color:#9ECBFF"> users</span><span style="color:#9ECBFF"> products</span><span style="color:#9ECBFF"> orders</span><span style="color:#E1E4E8">; </span><span style="color:#F97583">do</span><span style="color:#79B8FF"> echo</span><span style="color:#9ECBFF"> "=== </span><span style="color:#E1E4E8">$db</span><span style="color:#9ECBFF"> Database ==="</span><span style="color:#E1E4E8"> &#x26;&#x26; </span><span style="color:#B392F0">psql</span><span style="color:#79B8FF"> -d</span><span style="color:#E1E4E8"> $db </span><span style="color:#79B8FF">-c</span><span style="color:#9ECBFF"> "\dt+"</span><span style="color:#E1E4E8">; </span><span style="color:#F97583">done</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Use Amp Oracle to analyze database schemas across services and create optimization strategy covering: 1) data duplication patterns, 2) microservice boundary optimizations, 3) caching strategies"</span></span></code></pre>
<h3 id="5-documentation-generation">5. Documentation Generation</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># API documentation with comprehensive analysis</span></span>
<span class="line"><span style="color:#B392F0">amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Analyze all Express routes in src/routes/ and generate OpenAPI documentation"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Strategic documentation planning with Oracle</span></span>
<span class="line"><span style="color:#B392F0">find</span><span style="color:#9ECBFF"> .</span><span style="color:#79B8FF"> -name</span><span style="color:#9ECBFF"> "*.md"</span><span style="color:#79B8FF"> -o</span><span style="color:#79B8FF"> -name</span><span style="color:#9ECBFF"> "*.js"</span><span style="color:#79B8FF"> -o</span><span style="color:#79B8FF"> -name</span><span style="color:#9ECBFF"> "*.ts"</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> grep</span><span style="color:#79B8FF"> -E</span><span style="color:#9ECBFF"> "(README|docs|comments)"</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Use Amp Oracle to assess documentation completeness and create comprehensive improvement strategy"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Intelligent documentation pipeline with auto-generation</span></span>
<span class="line"><span style="color:#B392F0">git</span><span style="color:#9ECBFF"> log</span><span style="color:#79B8FF"> --oneline</span><span style="color:#79B8FF"> --since=</span><span style="color:#9ECBFF">"1 week ago"</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Analyze recent changes and spawn subagents to: 1) identify undocumented features, 2) generate changelog entries, 3) update API documentation, 4) validate documentation accuracy"</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Orchestrate documentation updates and create PR"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Cross-repository documentation analysis</span></span>
<span class="line"><span style="color:#F97583">for</span><span style="color:#E1E4E8"> repo </span><span style="color:#F97583">in</span><span style="color:#9ECBFF"> frontend</span><span style="color:#9ECBFF"> backend</span><span style="color:#9ECBFF"> mobile</span><span style="color:#E1E4E8">; </span><span style="color:#F97583">do</span><span style="color:#79B8FF"> echo</span><span style="color:#9ECBFF"> "=== </span><span style="color:#E1E4E8">$repo</span><span style="color:#9ECBFF"> ==="</span><span style="color:#E1E4E8"> &#x26;&#x26; </span><span style="color:#B392F0">find</span><span style="color:#E1E4E8"> $repo </span><span style="color:#79B8FF">-name</span><span style="color:#9ECBFF"> "README.md"</span><span style="color:#79B8FF"> -exec</span><span style="color:#9ECBFF"> cat</span><span style="color:#9ECBFF"> {}</span><span style="color:#79B8FF"> \;</span><span style="color:#E1E4E8">; </span><span style="color:#F97583">done</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Analyze documentation across repositories, spawn subagents to: 1) ensure consistency in setup instructions, 2) identify gaps in cross-service documentation, 3) recommend unified documentation strategy"</span></span></code></pre>
<h3 id="6-security-and-code-quality">6. Security and Code Quality</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># Security audit with intelligent vulnerability assessment</span></span>
<span class="line"><span style="color:#B392F0">amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Scan for potential security vulnerabilities in our authentication code"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Strategic security planning with Oracle</span></span>
<span class="line"><span style="color:#B392F0">npm</span><span style="color:#9ECBFF"> audit</span><span style="color:#79B8FF"> --json</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Use Amp Oracle to create comprehensive security improvement strategy with prioritized action plan"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Continuous security monitoring with intelligent alerts</span></span>
<span class="line"><span style="color:#B392F0">git</span><span style="color:#9ECBFF"> diff</span><span style="color:#9ECBFF"> HEAD~1</span><span style="color:#79B8FF"> --name-only</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Analyze changed files for security implications, spawn subagents to: 1) validate secure coding practices, 2) check for credential leaks, 3) assess potential attack vectors"</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Generate security review summary and action items"</span></span></code></pre>
<h3 id="7-batch-file-operations">7. Batch File Operations</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># Content processing with intelligent pattern recognition</span></span>
<span class="line"><span style="color:#B392F0">cat</span><span style="color:#79B8FF"> *</span><span style="color:#9ECBFF">.log</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Analyze these logs for error patterns and create a summary report"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Strategic log analysis planning with Oracle</span></span>
<span class="line"><span style="color:#B392F0">find</span><span style="color:#9ECBFF"> .</span><span style="color:#79B8FF"> -name</span><span style="color:#9ECBFF"> "*.log"</span><span style="color:#79B8FF"> -mtime</span><span style="color:#79B8FF"> -7</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Use Amp Oracle to create comprehensive log analysis strategy including pattern recognition, alerting, and monitoring improvements"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Intelligent file organization with automated cleanup</span></span>
<span class="line"><span style="color:#B392F0">find</span><span style="color:#9ECBFF"> .</span><span style="color:#79B8FF"> -type</span><span style="color:#9ECBFF"> f</span><span style="color:#79B8FF"> -size</span><span style="color:#9ECBFF"> +100M</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Analyze large files and spawn subagents to: 1) identify archival candidates, 2) suggest compression opportunities, 3) validate file dependencies before cleanup"</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Create automated cleanup script with safety checks"</span></span></code></pre>
<h3 id="8-development-environment-debugging">8. Development Environment Debugging</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># Dependency analysis with conflict resolution</span></span>
<span class="line"><span style="color:#B392F0">amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Analyze package.json and package-lock.json to identify version conflicts"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Strategic environment planning with Oracle</span></span>
<span class="line"><span style="color:#B392F0">amp</span><span style="color:#79B8FF"> -x</span><span style="color:#9ECBFF"> "Use Amp Oracle to diagnose development environment issues and create comprehensive optimization strategy"</span></span></code></pre>
<hr>
<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="common-issues">Common Issues</h3>
<h4 id="authentication-issues">Authentication Issues</h4>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">amp</span><span style="color:#9ECBFF"> logout</span></span>
<span class="line"><span style="color:#B392F0">amp</span><span style="color:#9ECBFF"> login</span></span></code></pre>
<h4 id="thread-context-is-full">Thread context is full</h4>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">amp</span><span style="color:#9ECBFF"> threads</span><span style="color:#9ECBFF"> compact</span><span style="color:#E1E4E8"> [threadId]</span></span></code></pre>
<h4 id="command-permission-denied">Command Permission Denied</h4>
<blockquote>
<p>[!WARNING]
Add commands to your allowlist or use <code>--dangerously-allow-all</code> (use with caution)</p>
</blockquote>
<h4 id="mcp-troubleshooting">MCP Troubleshooting</h4>
<ul>
<li><strong>Server not starting:</strong> Test directly with <code>npx @modelcontextprotocol/server-filesystem /path/to/dir</code></li>
<li><strong>Tools not available:</strong> Check that Amp can access config files and they are in the correct place (<code>~/.config/amp/settings.json</code>). If using alternative config location, check that the correct path is set in <code>AMP_SETTINGS_FILE</code> environment variable</li>
<li><strong>Permission errors:</strong> Check file paths, API tokens, and command allowlisting</li>
</ul>
<h3 id="get-support">Get Support</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">amp</span><span style="color:#9ECBFF"> doctor</span><span style="color:#6A737D">  # Generate support bundle</span></span></code></pre> </div>  </main> <footer data-astro-cid-37fxchfa> <p data-astro-cid-37fxchfa>© 2024 Sourcegraph. Supplemental to the <a href="https://ampcode.com/manual" data-astro-cid-37fxchfa>Amp Manual</a>.</p> </footer> </body></html> 